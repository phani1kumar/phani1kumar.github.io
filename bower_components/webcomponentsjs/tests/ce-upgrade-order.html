<!DOCTYPE html><html lang="en"><head>
  <meta charset="UTF-8">
  <title>Custom Element Upgrade Order</title>
  <script src="../../web-component-tester/browser.js"></script>
  <script src="../webcomponents-lite.js"></script>
  <link rel="import" href="imports/import-upgrade-order.html">
</head>
<body>
  <x-foo id="main"></x-foo>
  <script>
    test('upgrade order', function() {
      var order = [];
      class XFoo extends HTMLElement {
        connectedCallback() {
          order.push(this.id);
        }
      }
      window.customElements.define('x-foo', XFoo);
      assert.deepEqual(order, ['import', 'main'], 'elements are upgraded in imports before main document');
    });
  </script>


</body></html>